# Создание подзадач для портфеля (команда subtasks)

## Логика работы

В описании указанного портфеля ищем таблицу, у которой есть два заголовка - "Задача" и "Оценка". Заголовок - это просто первая строка в таблице, её форматирование не обязательно должно отличаться от остальных строк
Описание возможных колонок:
- Задача - имя jira-задачи aka title
- Оценка - оценка в майках (есть дефолтный маппинг в сторипоинты, но можно задать свой в конфиге)
- Описание (опционально) - описание jira-задачи aka description

Потом для каждой строки этой таблицы:
- Проверяем, прилинкована ли к портфелю связью Includes задача с title как в колонке "Задача"
- Если нет, то создаём и прилинковываем
- Проставляем у новой задачи майку из колонки "Оценка"
- Добавляем описание при наличии колонки

После этого вычисляем суммарное количество маек и сторипоинтов, добавляем эти данные в соответствующие поля портфеля и в конец его описания.

## Кастомизация маек
В коде есть дефолтный маппинг маек в сторипоинты, но можно задать свой через .bjira_config
Пример конфига (обратите внимание, что сторипоинты задаются **строковым типом**, а не числовым):
```shell script
{
  "host": "https://example.com",
  "user": "example",
  "team": "example",
  "shirts": {
    "XS": "0.4",
    "S": "1",
    "M": "2.7"
  }
}

```

## Полезные опции
- dryrun - посмотреть, какие задачи будут созданы
- skip-description - не добавлять майки и сторипоинты в описание портфеля
- skip-storypoints - не добавлять майки и сторипоинты в соответствующие поля портфеля